/* Minimal Theme */
.theme-minimal {
  --color-background: #F2E9E4;
  --color-background-dark: #22223B;
  --color-header: #e0d6ce;
  --color-header-dark: #18162a;
  --color-footer: #e0d6ce;
  --color-footer-dark: #18162a;
  --color-primary: #22223B;
  --color-primary-dark: #F2E9E4;
  --color-secondary: #4A4E69;
  --color-secondary-dark: #C9ADA7;
  --color-accent: #9A8C98;
  --color-accent-dark: #9A8C98;
  --color-card: #FFFFFF;
  --color-card-dark: #4A4E69;
  --color-action: #4A4E69;
  --color-action-dark: #C9ADA7;
}

/* Clean White Theme - minimalist but brighter */
.theme-white {
  --color-background: #FFFFFF;
  --color-background-dark: #0f1720; /* used in dark mode */
  --color-header: #f8f8f8;
  --color-header-dark: #0b1220;
  --color-footer: #f8f8f8;
  --color-footer-dark: #0b1220;
  --color-primary: #0f1720;
  --color-primary-dark: #f8f8f8;
  --color-secondary: #6b7280;
  --color-secondary-dark: #9ca3af;
  --color-accent: #374151;
  --color-accent-dark: #d1d5db;
  --color-card: #ffffff;
  --color-card-dark: #0f1720;
  --color-action: #374151;
  --color-action-dark: #9ca3af;
}

/* Muted Charcoal Theme - low-contrast, minimalist alternative */
.theme-muted {
  --color-background: #f5f5f6;
  --color-background-dark: #0f1720;
  --color-header: #ececed;
  --color-header-dark: #0b1220;
  --color-footer: #ececed;
  --color-footer-dark: #0b1220;
  --color-primary: #111827;
  --color-primary-dark: #e6e7e9;
  --color-secondary: #6b6f76;
  --color-secondary-dark: #9aa0a6;
  --color-accent: #4b5563;
  --color-accent-dark: #d1d5db;
  --color-card: #ffffff;
  --color-card-dark: #111827;
  --color-action: #374151;
  --color-action-dark: #9ca3af;
}

/* Light Green theme with dark green contrast for dark mode */
.theme-green {
  --color-background: #f2fbf1; /* very light green */
  --color-background-dark: #072014; /* deep dark green for dark mode */
  --color-header: #e8f6e9; /* slightly darker than background for header/footer */
  --color-header-dark: #042012; /* dark header contrast */
  --color-footer: #e8f6e9;
  --color-footer-dark: #042012;
  --color-primary: #0b3d2e; /* leaf-green text */
  --color-primary-dark: #dff3e9;
  --color-secondary: #2f6b53;
  --color-secondary-dark: #9ccfb8;
  --color-accent: #3b8f66;
  --color-accent-dark: #bfe9cf;
  --color-card: #ffffff;
  --color-card-dark: #08231a;
  --color-action: #2f6b53;
  --color-action-dark: #9ccfb8;
}

/* Scoped mappings for AviationPro so its utility classes follow the active theme variables */
.aviation-scope {
  /* panel backgrounds */
  --ap-bg-panel: var(--color-card);
  --ap-bg-panel-dark: var(--color-card-dark);
  --ap-bg-base: var(--color-background);
  --ap-bg-base-dark: var(--color-background-dark);
  /* accents / primary */
  --ap-primary: var(--color-primary);
  --ap-primary-dark: var(--color-primary-dark);
  --ap-accent: var(--color-accent);
  --ap-accent-dark: var(--color-accent-dark);
  /* borders */
  --ap-border: color-mix(in srgb, var(--color-accent) 20%, var(--color-primary) 80%);
  --ap-border-dark: color-mix(in srgb, var(--color-accent-dark) 20%, var(--color-primary-dark) 80%);
}

/* Map common AviationPro utility classes to the above variables when scoped */
.aviation-scope .bg-white { background-color: var(--ap-bg-panel) !important; }
.aviation-scope .bg-gray-100 { background-color: color-mix(in srgb, var(--ap-bg-panel) 85%, var(--ap-bg-base) 15%) !important; }
.aviation-scope .bg-gray-200 { background-color: color-mix(in srgb, var(--ap-bg-panel) 75%, var(--ap-bg-base) 25%) !important; }
.aviation-scope .bg-gray-700, .aviation-scope .bg-gray-800, .aviation-scope .bg-gray-900 { background-color: var(--ap-bg-panel-dark) !important; }
.aviation-scope .text-gray-900 { color: var(--ap-primary) !important; }
.aviation-scope .text-white { color: var(--ap-primary-dark) !important; }
.aviation-scope .text-blue-600, .aviation-scope .text-blue-400 { color: var(--ap-accent) !important; }
.aviation-scope .border-gray-200, .aviation-scope .border-gray-300 { border-color: var(--ap-border) !important; }
.aviation-scope .border-gray-700 { border-color: var(--ap-border-dark) !important; }
.aviation-scope .bg-blue-500 { background-color: var(--ap-accent) !important; color: var(--ap-primary-dark) !important; }
.aviation-scope .bg-gray-100:hover, .aviation-scope .bg-gray-200:hover { filter: brightness(0.98); }
.aviation-scope button { transition: background-color .15s ease, color .15s ease; }

/* Respect dark mode inside scope by using .dark on html (controlled by parent) */
.dark .aviation-scope .bg-white { background-color: var(--ap-bg-panel-dark) !important; }
.dark .aviation-scope .text-gray-900 { color: var(--ap-primary-dark) !important; }
.dark .aviation-scope .bg-blue-500 { background-color: var(--ap-accent-dark) !important; color: var(--ap-primary-dark) !important; }

/* Explicit header + header-button mappings to follow the site theme */
.aviation-scope header {
  background-color: var(--color-header) !important;
  color: var(--color-primary) !important;
  border-bottom-color: var(--ap-border) !important;
}
.aviation-scope header h1 { color: var(--color-primary) !important; }
.aviation-scope header button {
  background-color: var(--ap-bg-panel) !important;
  color: var(--ap-primary) !important;
  border-color: var(--ap-border) !important;
}

.dark .aviation-scope header {
  background-color: var(--color-header-dark) !important;
  color: var(--color-primary-dark) !important;
  border-bottom-color: var(--ap-border-dark) !important;
}
.dark .aviation-scope header h1 { color: var(--color-primary-dark) !important; }
.dark .aviation-scope header button {
  background-color: var(--ap-bg-panel-dark) !important;
  color: var(--ap-primary-dark) !important;
  border-color: var(--ap-border-dark) !important;
}

/* Ensure tab buttons (nav) follow theme */
.aviation-scope nav button {
  background-color: color-mix(in srgb, var(--ap-bg-panel) 90%, var(--ap-bg-base) 10%) !important;
  color: var(--ap-primary) !important;
  border-color: var(--ap-border) !important;
}
.dark .aviation-scope nav button {
  background-color: color-mix(in srgb, var(--ap-bg-panel-dark) 90%, var(--ap-bg-base-dark) 10%) !important;
  color: var(--ap-primary-dark) !important;
  border-color: var(--ap-border-dark) !important;
}

/* Ensure AviationPro gray utility backgrounds become dark in dark mode */
.dark .aviation-scope .bg-gray-100,
.dark .aviation-scope .bg-gray-200,
.dark .aviation-scope .bg-gray-50 {
  background-color: var(--ap-bg-panel-dark) !important;
  color: var(--ap-primary-dark) !important;
}

.dark .aviation-scope .bg-gray-100:hover,
.dark .aviation-scope .bg-gray-200:hover {
  background-color: color-mix(in srgb, var(--ap-bg-panel-dark) 90%, var(--ap-bg-base-dark) 10%) !important;
}

/* Override theme classes to use aviation theme variables */
.aviation-scope .bg-theme-card { background-color: var(--ap-bg-panel) !important; }
.aviation-scope .bg-theme-bg { background-color: var(--ap-bg-base) !important; }
.aviation-scope .bg-theme-accent { background-color: var(--ap-accent) !important; }
.aviation-scope .bg-theme-header { background-color: var(--color-header) !important; }
.aviation-scope .text-theme-primary { color: var(--ap-primary) !important; }
.aviation-scope .text-theme-accent { color: var(--ap-accent) !important; }
.aviation-scope .text-theme-secondary { color: var(--color-secondary) !important; }
.aviation-scope .border-theme-accent { border-color: var(--ap-border) !important; }

.dark .aviation-scope .bg-theme-card-dark { background-color: var(--ap-bg-panel-dark) !important; }
.dark .aviation-scope .bg-theme-bg-dark { background-color: var(--ap-bg-base-dark) !important; }
.dark .aviation-scope .bg-theme-accent-dark { background-color: var(--ap-accent-dark) !important; }
.dark .aviation-scope .bg-theme-header-dark { background-color: var(--color-header-dark) !important; }
.dark .aviation-scope .text-theme-primary-dark { color: var(--ap-primary-dark) !important; }
.dark .aviation-scope .text-theme-accent-dark { color: var(--ap-accent-dark) !important; }
.dark .aviation-scope .text-theme-secondary-dark { color: var(--color-secondary-dark) !important; }
.dark .aviation-scope .border-theme-accent-dark { border-color: var(--ap-border-dark) !important; }
